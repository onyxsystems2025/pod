{% extends "base.html" %}

{% block title %}Clienti - POD{% endblock %}
{% block page_title %}Clienti{% endblock %}

{% block content %}
<div class="search-bar">
    <input type="search" name="q"
           placeholder="Cerca cliente..."
           hx-get="/customers/"
           hx-trigger="keyup changed delay:300ms"
           hx-target="#customer-table">
</div>

<div id="customer-table">
    <div class="card">
        <table>
            <thead>
                <tr>
                    <th>Ragione sociale</th>
                    <th>Referente</th>
                    <th>Email</th>
                    <th>Telefono</th>
                    <th>Tipo</th>
                </tr>
            </thead>
            <tbody>
                {% for c in customers %}
                <tr>
                    <td>{{ c.company_name }}</td>
                    <td>{{ c.contact_name|default:"-" }}</td>
                    <td>{{ c.email|default:"-" }}</td>
                    <td>{{ c.phone|default:"-" }}</td>
                    <td>{{ c.get_customer_type_display }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5" style="text-align: center; color: var(--gray-500);">Nessun cliente trovato</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
